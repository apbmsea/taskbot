# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞

## –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –Ω–∞–π–¥–µ–Ω–∞:
–°—Ç–∞—Ä—ã–π webhook –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º URL (–¥–≤–æ–π–Ω–æ–π —Å–ª—ç—à –∏ —Ç–æ–∫–µ–Ω –≤ –ø—É—Ç–∏)

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
1. ‚úÖ –£–ø—Ä–æ—â–µ–Ω –ø—É—Ç—å webhook: `/telegram` –≤–º–µ—Å—Ç–æ `/telegram/{token}`
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω health check endpoint `/`
4. ‚úÖ Webhook —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ Render:

### 1. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –Ω–∞ GitHub:
```bash
git add .
git commit -m "Fix webhook"
git push
```

### 2. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ Render:
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
Webhook server running on port 3000
‚úÖ Telegram webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: https://taskbot-nhkb.onrender.com/telegram
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Render:
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `PUBLIC_URL` = `https://taskbot-nhkb.onrender.com`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://taskbot-nhkb.onrender.com/`
   - –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: "Twitch Bot is running!"

2. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É –≤ Telegram: `/start`
   - –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å

3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–∏–º–µ—Ä:
   ```
   /register twitch_username @your_channel
   ```

## –ï—Å–ª–∏ –±–æ—Ç –≤—Å–µ –µ—â–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ:
```bash
node check-webhook.js
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å webhook –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç –µ–≥–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.
