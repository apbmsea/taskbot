# Twitch Bot для уведомлений в Telegram

## Исправленные ошибки:

1. ✅ Добавлен `dotenv` для загрузки переменных окружения
2. ✅ Добавлена переменная `PUBLIC_URL` в .env
3. ✅ Создан главный файл `index.ts` для запуска бота и сервера
4. ✅ Добавлена обработка ошибок во всех функциях
5. ✅ Добавлена проверка существования пользователя Twitch
6. ✅ Исправлены ошибки типизации TypeScript
7. ✅ Добавлены скрипты для сборки и запуска

## Установка:

```bash
npm install
```

## Настройка:

1. Отредактируйте `.env` файл:
   - `BOT_TOKEN` - токен вашего Telegram бота
   - `TWITCH_CLIENT_ID` - ID приложения Twitch
   - `TWITCH_CLIENT_SECRET` - секрет приложения Twitch
   - `PUBLIC_URL` - публичный URL вашего сервера (например, через ngrok)

## Запуск:

```bash
npm run build
npm start
```

Для разработки:
```bash
npm run dev
```

## Использование:

1. Добавьте бота в ваш Telegram канал как администратора
2. Отправьте команду боту:
   ```
   /register twitch_username @your_channel
   ```
3. Бот будет отправлять уведомления в канал когда стример начнет трансляцию

## Важно:

- Сервер должен быть доступен по публичному URL для получения webhook от Twitch
- Используйте ngrok для локальной разработки: `ngrok http 3000`
- Обновите `PUBLIC_URL` в .env на URL от ngrok
